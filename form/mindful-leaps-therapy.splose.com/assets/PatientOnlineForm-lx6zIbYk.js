import{z as e,b as F,y as D,b$ as U,cD as z,bP as p,aA as ee,bU as te,af as _}from"./index-FU15wMs0.js";import{F as a,b9 as n,s as f,w as R,aN as ne,o as K,S as $,x as se,M as ie,y as le,B as M,D as ae}from"./AddressAutocomplete.module-B6NgFNL3.js";import{b6 as W,a8 as S,a2 as B,di as Z,U as J,dj as X,bo as re,bv as T,dk as ue,aT as de,ay as Q,dl as oe,cN as L,aE as O,B as k,N as ce,dm as me,dn as xe,az as he,b5 as qe,ae as je,dp as ge,dq as fe}from"./BackgroundUploadContext-Vbv4aRed.js";import{S as be}from"./Signature-8rPG6Pm2.js";import{A as ye}from"./AddressAutocomplete-ouue8ZCf.js";import{m as Ie,p as Ne}from"./customValidators-RMpSoAkX.js";import{P as ve}from"./PhoneTypeSelect--VZAaO77.js";import{C as Fe}from"./CalculationFormQuestion-SI6T_zxG.js";import{S as we}from"./SaveOutlined-gviPK1Pr.js";const H=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"},{whitespace:t.question.required,message:"Short answer cannot be empty"}],className:n.questionItem,name:[t.questionIndex,"answerText"],children:e.jsx(f,{})})})},G=t=>{var i,l,s,r;return e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"}],name:[t.questionIndex,"answerText"],required:(r=t.question)==null?void 0:r.required,className:n.questionItem,children:e.jsx(W,{autoSize:{minRows:3}})})},Ce=t=>{var i,l,s,r;return e.jsxs("div",{className:n.questionItem,children:[e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"}],name:[t.questionIndex,"answerText"],style:{marginBottom:0},children:e.jsx(S.Group,{children:e.jsxs(B,{direction:"horizontal",children:[e.jsx(S,{value:"Yes",children:"Yes"}),e.jsx(S,{value:"No",children:"No"})]})})}),e.jsx(a.Item,{hidden:!((r=t.question)!=null&&r.needExplanation),name:[t.questionIndex,"explanation"],label:"Explanation",children:e.jsx(f.TextArea,{rows:4})})]})},$e=t=>{var u,d,j,m,b,h,g,I;const[i,l]=F.useState(-1),s=F.useRef(null);F.useEffect(()=>{var q,N;const c=(N=(q=t.question)==null?void 0:q.checkboxes)==null?void 0:N.map((y,v)=>{if(y.customChoice&&s.current.input&&(s.current.input.value=y.customChoice),y.checked)return v}).filter(y=>y!=null);c&&c.length>0&&l(c[0])},[]);const r=c=>{var q;if(l(c),t.form){const{sections:N}=t.form.getFieldsValue();if(t.sectionIndex==null)return;const y=N[t.sectionIndex];if(y==null||y.questions[t.questionIndex]==null)return;const v=y.questions[t.questionIndex];if(v.choices==null)return;v.checkboxes=(q=v.choices)==null?void 0:q.map((C,o)=>{var x,A,P,E,V,Y;const w=c==o;return w&&(v.answerText=C.customChoice?(A=(x=s.current)==null?void 0:x.input)==null?void 0:A.value:C.body),{value:C.customChoice&&w?(E=(P=s.current)==null?void 0:P.input)==null?void 0:E.value:C.body,label:C.customChoice&&w?(Y=(V=s.current)==null?void 0:V.input)==null?void 0:Y.value:C.body,customChoice:C.customChoice,checked:!!w}}),v.selectedOptions=c,t.form.setFieldsValue({sections:[...N]})}};return e.jsx(e.Fragment,{children:e.jsxs(a.Item,{label:((u=t.question)==null?void 0:u.title)&&e.jsx("span",{style:{textAlign:"left"},children:(d=t.question)==null?void 0:d.title}),required:(j=t.question)==null?void 0:j.required,className:n.questionItem,children:[((m=t.question)==null?void 0:m.description)&&e.jsx("div",{className:n.description,children:(b=t.question)==null?void 0:b.description}),e.jsx(a.Item,{rules:[{required:(h=t.question)==null?void 0:h.required,message:"Required"}],name:[t.questionIndex,"selectedOptions"],initialValue:i,style:{marginBottom:0},children:e.jsx(S.Group,{onChange:c=>r(c.target.value),style:{display:"flex",flexDirection:"column",gap:"2px 0px"},children:(I=(g=t.question)==null?void 0:g.choices)==null?void 0:I.map((c,q)=>e.jsxs(S,{value:q,children:[`${c.customChoice?"":c.body}`,c.customChoice&&e.jsx(f,{ref:s,style:{border:"1px solid rgba(0, 0, 0, 0.15)"},onChange:N=>{r(q)},type:"text",placeholder:c.body})]},q))})})]})})},Se=t=>{var u,d,j,m,b,h,g,I;const[i,l]=F.useState([]),s=F.useRef(null);F.useEffect(()=>{var q,N;const c=(N=(q=t.question)==null?void 0:q.checkboxes)==null?void 0:N.map((y,v)=>{if(y.customChoice&&s.current.input&&(s.current.input.value=y.value),y.checked)return v}).filter(y=>y!=null);l(c)},[]);const r=c=>{if(l(c),t.form){const{sections:q}=t.form.getFieldsValue();if(t.sectionIndex==null)return;const N=q[t.sectionIndex];if(N==null)return;const y=N.questions[t.questionIndex];if(y.choices==null)return;y.checkboxes=y.choices.map((v,C)=>{var w,x,A,P;const o=c.indexOf(C)!==-1;return{value:v.customChoice&&o?(x=(w=s.current)==null?void 0:w.input)==null?void 0:x.value:v.body,label:v.customChoice&&o?(P=(A=s.current)==null?void 0:A.input)==null?void 0:P.value:v.body,customChoice:v.customChoice,checked:!!o}}),y.selectedOptions=c,t.form.setFieldsValue({sections:[...q]})}};return e.jsx(e.Fragment,{children:e.jsxs(a.Item,{label:((u=t.question)==null?void 0:u.title)&&e.jsx("span",{style:{textAlign:"left"},children:(d=t.question)==null?void 0:d.title}),className:n.questionItem,required:(j=t.question)==null?void 0:j.required,children:[((m=t.question)==null?void 0:m.description)&&e.jsx("p",{className:n.description,children:(b=t.question)==null?void 0:b.description}),e.jsx(a.Item,{rules:[{required:(h=t.question)==null?void 0:h.required,message:"Required"}],name:[t.questionIndex,"selectedOptions"],initialValue:i,style:{marginBottom:0},children:e.jsx(R.Group,{onChange:r,style:{display:"flex",flexDirection:"column",gap:"2px 0px"},children:(I=(g=t.question)==null?void 0:g.choices)==null?void 0:I.map((c,q)=>e.jsx(ne,{style:{margin:0},children:e.jsxs(R,{value:q,children:[`${c.customChoice?"":c.body}`,c.customChoice&&e.jsx(f,{ref:s,name:"OtherText",style:{border:"1px solid rgba(0, 0, 0, 0.15)"},onChange:()=>{r(D.union(i,[q]))},type:"text",placeholder:c.body})]})}))})})]})})},Me=t=>{var h,g,I;const[i,l]=F.useState(),[s,r]=F.useState(""),[u,d]=F.useState(!1);F.useEffect(()=>{var c;(c=t.question)!=null&&c.files&&t.question.files.length>0&&j(t.question.files[0])},[]);const j=async c=>{const N=await(await fetch(c.data)).blob(),y=D.assign(new File([N],c.name,{type:c.type}),{uid:"-1"});r(c.data),m(y),l([y])},m=c=>{if(c.size>20*1024*1024)return K.error("File size must be less than 20MB"),!1;const q=new FileReader;return q.readAsDataURL(c),q.onload=N=>{var y,v;l([c]),r((y=N.target)==null?void 0:y.result),b("Upload",{type:c.type,name:c.name,data:(v=N.target)==null?void 0:v.result,file:c})},!1},b=(c,q)=>{if(t.form){const{sections:N}=t.form.getFieldsValue();if(t.sectionIndex==null)return;const y=N[t.sectionIndex];if(y==null)return;const v=y.questions[t.questionIndex];v.files=c==="Upload"&&q?[q]:[],c==="Remove"&&l(void 0),t.form.setFieldsValue({sections:[...N]})}};return e.jsxs(e.Fragment,{children:[e.jsx(a.Item,{label:((h=t.question)==null?void 0:h.title)&&e.jsx("span",{style:{textAlign:"left"},children:(g=t.question)==null?void 0:g.title}),rules:[{required:(I=t.question)==null?void 0:I.required,message:"File is required"}],className:n.questionItem,children:e.jsx(Z,{listType:"picture",beforeUpload:m,multiple:!1,maxCount:1,fileList:i,itemRender:(c,q,N,y)=>e.jsx("div",{className:"ant-upload-list-item ant-upload-list-item-done ant-upload-list-item-list-type-picture",children:e.jsxs("span",{className:"ant-upload-span",children:[e.jsx("a",{onClick:()=>{d(!0)},rel:"noopener noreferrer",className:"ant-upload-list-item-name",children:q.name}),e.jsx("span",{className:"ant-upload-list-item-card-actions picture",children:e.jsx("button",{title:"Remove file",type:"button",onClick:()=>{y.remove(),b("Remove")},className:"ant-btn ant-btn-text ant-btn-sm ant-btn-icon-only ant-upload-list-item-card-actions-btn",children:e.jsx("span",{role:"img","aria-label":"delete",className:"anticon anticon-delete",children:e.jsx("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"delete",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"})})})})})]})}),style:{marginTop:5},children:e.jsxs("div",{style:{padding:20},children:[e.jsx("p",{className:"ant-upload-drag-icon",style:{marginBottom:10},children:e.jsx(J,{})}),e.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),e.jsx("p",{className:"ant-upload-hint",children:"Only support upload a single file with maximum limit of 20MB."})]})})}),e.jsx(X,{visible:u,onClose:()=>d(!1),mode:"RawFile",rawFile:i&&{name:i[0].name,data:s}})]})},Ae=t=>{var i,l,s;return e.jsxs(e.Fragment,{children:[e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"}],name:[t.questionIndex,"signature"],className:n.questionItem,children:e.jsx(be,{style:{margin:0},icon:e.jsx(re,{}),id:"nonprintable"})}),e.jsx("div",{style:{height:"150px",border:"1px solid #1f1f1f",width:"250px",marginTop:5},className:n.signatureOnPrint,id:"printable"})]})},Pe=t=>{var i,l,s,r,u,d,j,m;return e.jsx(e.Fragment,{children:e.jsxs(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,required:(s=t.question)==null?void 0:s.required,children:[((r=t.question)==null?void 0:r.description)&&e.jsx("p",{className:n.description,children:(u=t.question)==null?void 0:u.description}),e.jsx(a.Item,{rules:[{required:(d=t.question)==null?void 0:d.required,message:"Required"}],name:[t.questionIndex,"answerText"],style:{marginBottom:0},children:e.jsx($,{placeholder:"Select an option",allowClear:!0,children:(m=(j=t.question)==null?void 0:j.choices)==null?void 0:m.map((b,h)=>e.jsx($.Option,{value:b.body||b,children:b.body||b},h))})})]})})},Te=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),className:n.questionItem,id:"formImage",children:e.jsx("div",{className:n.image,children:e.jsx("img",{src:U((s=t.question)==null?void 0:s.imgKey),className:n.imageQuestionType})})})})},Oe=t=>{var i,l,s;return e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"}],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,name:[t.questionIndex,"answerText"],initialValue:t.question.answerText,children:e.jsx(T,{format:"D MMM YYYY"})})},Re=t=>{var l,s,r,u,d,j,m,b,h;const i=()=>{var g,I,c,q;if(z((g=t.question)==null?void 0:g.scaleStart)&&z((I=t.question)==null?void 0:I.scaleEnd)){const N={};for(let y=(c=t.question)==null?void 0:c.scaleStart;y<=((q=t.question)==null?void 0:q.scaleEnd);y++)N[y]={label:y};return N}else return};return e.jsx(e.Fragment,{children:e.jsx("div",{className:n.linearScaleAnswerContainer,children:e.jsxs(a.Item,{label:((l=t.question)==null?void 0:l.title)&&e.jsx("span",{style:{textAlign:"left"},children:(s=t.question)==null?void 0:s.title}),rules:[{required:(r=t.question)==null?void 0:r.required}],required:(u=t.question)==null?void 0:u.required,children:[e.jsx(a.Item,{rules:[{required:(d=t.question)==null?void 0:d.required,message:"Required"}],name:[t.questionIndex,"answerText"],style:{padding:"6px"},children:e.jsx(ue,{max:(j=t.question)==null?void 0:j.scaleEnd,min:(m=t.question)==null?void 0:m.scaleStart,marks:i(),className:n.slider,tooltip:{open:!1}})}),e.jsxs("div",{className:n.titles,children:[e.jsx("label",{className:n.scaleStartTitle,children:(b=t.question)==null?void 0:b.scaleStartLabel}),e.jsx("label",{className:n.scaleEndTitle,children:(h=t.question)==null?void 0:h.scaleEndLabel})]})]})})})},ke=t=>{var i,l,s,r,u,d;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),required:(s=t.question)==null?void 0:s.required,className:`${n.questionItem} ${n.halve} ${n.fullOnTablet}`,children:e.jsxs("div",{className:n.row,children:[e.jsx(a.Item,{rules:[{required:(r=t.question)==null?void 0:r.required,message:"Required"}],requiredMark:!1,name:[t.questionIndex,"birthDay"],style:{width:"32%"},children:e.jsx(se,{})}),e.jsx(a.Item,{requiredMark:!1,rules:[{required:(u=t.question)==null?void 0:u.required,message:"Required"}],name:[t.questionIndex,"birthMonth"],style:{width:"32%"},children:e.jsx(ie,{})}),e.jsx(a.Item,{requiredMark:!1,rules:[{required:(d=t.question)==null?void 0:d.required,message:"Required"}],name:[t.questionIndex,"birthYear"],style:{width:"32%"},children:e.jsx(le,{})})]})})})},De=t=>{var l,s,r,u,d,j,m,b,h;function i(g){const I={addressL1:g.name,suburb:g.suburb,postalCode:g.postalCode,state:g.state,country:g.countryLong};if(t.form){const{sections:c}=t.form.getFieldsValue();if(t.sectionIndex==null)return;const q=c[t.sectionIndex];if(q==null||q.questions[t.questionIndex]==null)return;q.questions[t.questionIndex]=D.merge(q.questions[t.questionIndex],I),t.form.setFieldsValue({sections:[...c]})}}return e.jsx(e.Fragment,{children:e.jsxs(a.Item,{label:((l=t.question)==null?void 0:l.title)&&e.jsx("span",{style:{textAlign:"left"},children:(s=t.question)==null?void 0:s.title}),required:(r=t.question)==null?void 0:r.required,className:`${n.questionItem}`,children:[e.jsx("div",{id:"nonprintable",children:e.jsx(a.Item,{label:"Search address",className:n.subquestionItem,children:e.jsx(ye,{onPlaceChange:i})})}),e.jsx(a.Item,{label:"Address",name:[t.questionIndex,"addressL1"],rules:[{required:(u=t.question)==null?void 0:u.required,message:"Address line 1 is required"}],className:n.subquestionItem,children:e.jsx(f,{placeholder:"Address line 1"})}),e.jsx(a.Item,{name:[t.questionIndex,"addressL2"],className:n.subquestionItem,children:e.jsx(f,{placeholder:"Address line 2",id:"addressL2"})}),e.jsx(a.Item,{name:[t.questionIndex,"addressL3"],className:n.subquestionItem,children:e.jsx(f,{placeholder:"Address line 3"})}),e.jsx(a.Item,{rules:[{required:(d=t.question)==null?void 0:d.required,message:"City is required"}],label:"City/Town",className:n.subquestionItem,name:[t.questionIndex,"suburb"],children:e.jsx(f,{})}),e.jsx(a.Item,{noStyle:!0,required:(j=t.question)==null?void 0:j.required,children:e.jsxs("div",{className:`${n.questionItem}  ${n.halve} ${n.fullOnMobile} ${n.row}`,style:{display:"flex",gap:"0px 10px",marginBottom:0},children:[e.jsx(a.Item,{label:"State/Region",rules:[{required:(m=t.question)==null?void 0:m.required,message:"State/Region is required"}],name:[t.questionIndex,"state"],style:{width:"100%"},className:n.subquestionItem,children:e.jsx(f,{})}),e.jsx(a.Item,{label:"Postal/Zip code",rules:[{required:(b=t.question)==null?void 0:b.required,message:"Postal/Zip code is required"}],name:[t.questionIndex,"postalCode"],style:{width:"100%"},className:n.subquestionItem,children:e.jsx(f,{})})]})}),e.jsx(a.Item,{label:"Country",name:[t.questionIndex,"country"],rules:[{required:(h=t.question)==null?void 0:h.required,message:"Country is required"}],className:`${n.subquestionItem} ${n.last}`,children:e.jsx(de,{})})]})})},Be=t=>{var i,l,s,r,u,d;return e.jsxs(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),required:(s=t.question)==null?void 0:s.required,className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:[e.jsx(a.Item,{label:"Full name",rules:[{required:(r=t.question)==null?void 0:r.required,message:"Emergency contact name is required"}],name:[t.questionIndex,"emergencyContactName"],className:n.subquestionItem,children:e.jsx(f,{})}),e.jsx(a.Item,{label:"Relationship",rules:[{required:(u=t.question)==null?void 0:u.required,message:"Emergency contact relationship is required"}],name:[t.questionIndex,"emergencyContactRelationship"],className:n.subquestionItem,children:e.jsx(f,{})}),e.jsx(a.Item,{label:"Phone number",rules:[{required:(d=t.question)==null?void 0:d.required,message:"Emergency contact is required"}],name:[t.questionIndex,"emergencyContactNumber"],className:`${n.subquestionItem} ${n.last}`,children:e.jsx(f,{})})]})},Qe=t=>{var i,l,s,r;return e.jsx(a.Item,{rules:[{type:"email",message:"Invalid email format"},{required:(i=t.question)==null?void 0:i.required,message:"Email is required"}],label:((l=t.question)==null?void 0:l.title)&&e.jsx("span",{style:{textAlign:"left"},children:(s=t.question)!=null&&s.title?(r=t.question)==null?void 0:r.title:"Email"}),className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,name:[t.questionIndex,"answerText"],children:e.jsx(f,{})})},Le=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"}],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,name:[t.questionIndex,"occupation"],children:e.jsx(f,{})})})},Ee=t=>{var u,d,j,m,b;const i=["Self-managed","Plan-managed","NDIA-managed"],[l,s]=F.useState(!1),r=h=>{h=="Plan-managed"?s(!0):s(!1)};return F.useEffect(()=>{var h;((h=t.question.ndisInfo)==null?void 0:h.fundManagement)==="Plan-managed"&&s(!0)},[]),e.jsx(e.Fragment,{children:e.jsxs(a.Item,{label:((u=t.question)==null?void 0:u.title)&&e.jsx("span",{style:{textAlign:"left"},children:(d=t.question)==null?void 0:d.title}),required:(j=t.question)==null?void 0:j.required,className:n.questionItem,children:[e.jsx(a.Item,{rules:[{required:(m=t.question)==null?void 0:m.required,message:"NDIS number is required"}],label:"NDIS number",name:[t.questionIndex,"ndisNumber"],style:{marginBottom:"10px"},children:e.jsx(f,{})}),e.jsxs(a.Item,{noStyle:!0,children:[e.jsx(a.Item,{label:"Diagnosis",name:[t.questionIndex,"ndisInfo","diagnosis"],style:{marginBottom:"10px"},children:e.jsx(f,{})}),e.jsx(a.Item,{label:"Fund management",name:[t.questionIndex,"ndisInfo","fundManagement"],style:{marginBottom:"10px"},children:e.jsx($,{onChange:r,children:i.map(h=>e.jsx($.Option,{value:h,children:h},h))})}),e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Plan manager",name:[t.questionIndex,"ndisInfo","planManager"],hidden:!l,children:e.jsx(f,{})}),e.jsxs(a.Item,{style:{marginBottom:"5px"},label:"NDIS nominee",children:[e.jsx(a.Item,{name:[t.questionIndex,"ndisInfo","nomineeFirstName"],style:{display:"inline-block",width:"calc(50% - 8px)",marginBottom:"10px"},children:e.jsx(f,{placeholder:"First name"})}),e.jsx(a.Item,{name:[t.questionIndex,"ndisInfo","nomineeLastName"],style:{display:"inline-block",width:"calc(50% - 8px)",margin:"0px 8px 10px 8px"},children:e.jsx(f,{placeholder:"Last name"})})]}),e.jsxs(a.Item,{style:{marginBottom:"10px"},label:"Mobile number",rules:[{required:(b=t.question)==null?void 0:b.required,message:""}],children:[e.jsx(a.Item,{name:[t.questionIndex,"ndisInfo","nomineeMobileCode"],style:{display:"inline-block",width:"20%",marginBottom:"10px"},children:e.jsx(Q,{})}),e.jsx(a.Item,{style:{display:"inline-block",width:"80%",marginBottom:"10px"},name:[t.questionIndex,"ndisInfo","nomineeMobileNumber"],children:e.jsx(f,{placeholder:"Phone Number"})})]}),e.jsx(a.Item,{rules:[{type:"email",message:"Invalid email format"}],name:[t.questionIndex,"ndisInfo","nomineeEmail"],style:{marginBottom:"10px"},children:e.jsx(f,{placeholder:"Nominee Email"})})]})]})})},Ve=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{tooltip:`Gender identity is the personal sense of one’s own gender. Gender identity can correlate with
              assigned sex at birth or can differ from it. Gender categories can serve as the basis of the formation
              of a person’s social identity in relation to other members of society.`,name:[t.questionIndex,"answerText"],label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Gender identity is required"}],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:e.jsx(oe,{})})})},Ye=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{name:[t.questionIndex,"extraInformation"],label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"}],className:n.questionItem,children:e.jsx(W,{placeholder:"Extra Information",autoSize:{minRows:4,maxRows:12}})})})},ze=t=>{var s,r,u,d,j,m,b,h;const i=new Date().getFullYear();function l(g,I){const c=[];for(let q=g;q<=I;q++)c.push(q);return c}return e.jsx(e.Fragment,{children:e.jsxs(a.Item,{label:((s=t.question)==null?void 0:s.title)&&e.jsx("span",{style:{textAlign:"left"},children:(r=t.question)==null?void 0:r.title}),required:(u=t.question)==null?void 0:u.required,className:`${n.questionItem} ${n.halve} ${n.fullOnTablet}`,children:[e.jsxs("div",{className:`${n.row}`,children:[e.jsx(a.Item,{rules:[{required:(d=t.question)==null?void 0:d.required,message:"Medicare number is required"},{validator:Ie}],label:"Card number",name:[t.questionIndex,"medicareNum"],style:{width:"49%"},className:n.subquestionItem,children:e.jsx(f,{})}),e.jsx(a.Item,{rules:[{required:(j=t.question)==null?void 0:j.required,message:"Reference number is required"}],label:"Reference number",name:[t.questionIndex,"referenceNum"],style:{width:"49%"},className:n.subquestionItem,children:e.jsx(f,{})})]}),e.jsx(a.Item,{required:(m=t.question)==null?void 0:m.required,label:"Valid until",style:{marginBottom:0},children:e.jsxs("div",{className:n.row,children:[e.jsx(a.Item,{name:[t.questionIndex,"medicareValidUntilMonth"],style:{width:"49%"},rules:[{required:(b=t.question)==null?void 0:b.required,message:"Valid date is required"}],children:e.jsx($,{placeholder:"Month",style:{width:"100%"},children:p.map((g,I)=>e.jsx($.Option,{value:I,children:g},g))})}),e.jsx(a.Item,{name:[t.questionIndex,"medicareValidUntilYear"],rules:[{required:(h=t.question)==null?void 0:h.required,message:""}],style:{width:"49%"},children:e.jsx($,{placeholder:"Year",style:{width:"100%"},children:l(i,i+10).map(g=>e.jsx($.Option,{value:g,children:g},g))})})]})})]})})},_e=t=>{var i,l;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:e.jsx(a.List,{name:[t.questionIndex,"intolerances"],children:(s,{add:r,remove:u})=>e.jsxs(e.Fragment,{children:[s.map(({name:d})=>e.jsxs("div",{className:n.row,children:[e.jsx(a.Item,{rules:[{required:!0,message:"Intolerance description is required"}],name:[d,"description"],style:{width:"93%"},className:n.subquestionItem,children:e.jsx(f,{placeholder:"Intolerance"})}),e.jsx(a.Item,{style:{marginLeft:8},children:e.jsx(L,{onClick:()=>u(d),className:n.deleteChoiceIcon,id:"nonprintable"})})]})),!s.length&&e.jsx("div",{style:{paddingBottom:"5px"},id:"nonprintable",children:"No intolerance recorded"}),e.jsx(M,{onClick:()=>r(),icon:e.jsx(O,{}),id:"nonprintable",children:"Add an intolerance"})]})})})})},He=t=>{var i,l;return e.jsx(a.Item,{className:`${n.questionItem}`,label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),children:e.jsx(a.List,{name:[t.questionIndex,"allergies"],children:(s,{add:r,remove:u})=>e.jsxs(e.Fragment,{children:[s.map(({name:d})=>e.jsxs("div",{className:n.row,style:{marginBottom:15},children:[e.jsxs(f.Group,{compact:!0,children:[e.jsx(a.Item,{rules:[{required:!0,message:"Type is required"}],name:[d,"type"],noStyle:!0,children:e.jsx(f,{placeholder:"Type",style:{width:"25%"}})}),e.jsx(a.Item,{name:[d,"description"],rules:[{required:!0,message:"Description is required"}],noStyle:!0,children:e.jsx(f,{placeholder:"Description",style:{width:"75%"}})})]}),e.jsx(a.Item,{style:{marginLeft:8},children:e.jsx(L,{className:n.deleteChoiceIcon,onClick:()=>u(d),id:"nonprintable"})})]})),!s.length&&e.jsx("div",{style:{paddingBottom:"5px"},id:"nonprintable",children:"No allergies recorded"}),e.jsx(M,{onClick:()=>r(),icon:e.jsx(O,{}),id:"nonprintable",children:"Add an allergy"})]})})})},Ge=t=>{var i,l;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),className:`${n.questionItem} ${n.halve} ${n.fullOnTablet}`,children:e.jsx(a.List,{name:[t.questionIndex,"medications"],children:(s,{add:r,remove:u})=>e.jsxs(e.Fragment,{children:[s.map((d,j)=>e.jsxs("div",{className:n.row,children:[e.jsxs(f.Group,{compact:!0,className:n.subquestionItem,children:[e.jsx(a.Item,{name:[j,"name"],rules:[{required:!0,message:"Medication is required"}],noStyle:!0,children:e.jsx(f,{placeholder:"Medication",style:{width:"40%"}})}),e.jsx(a.Item,{rules:[{required:!0,message:"Frequency is required"}],name:[j,"frequency"],noStyle:!0,children:e.jsx(f,{placeholder:"Frequency",style:{width:"60%"}})})]}),e.jsx(a.Item,{style:{marginLeft:8},children:e.jsx(L,{onClick:()=>u(d.name),className:n.deleteChoiceIcon,id:"nonprintable"})})]})),!s.length&&e.jsx("div",{style:{paddingBottom:"5px"},id:"nonprintable",children:"No medications recorded"}),e.jsx(M,{onClick:()=>r(),icon:e.jsx(O,{}),id:"nonprintable",children:"Add a medication"})]})})})})},Ue=t=>{var i,l,s,r,u;return e.jsx(e.Fragment,{children:e.jsxs(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),required:(s=t.question)==null?void 0:s.required,className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:[e.jsx(a.Item,{rules:[{required:(r=t.question)==null?void 0:r.required,message:"Veterans file number is required"}],label:"Veterans file number",name:[t.questionIndex,"veteransFileNumber"],style:{marginBottom:"10px"},children:e.jsx(f,{})}),e.jsx(a.Item,{rules:[{required:(u=t.question)==null?void 0:u.required,message:"Veterans gender is required"}],label:"Gender",name:[t.questionIndex,"veteransGender"],style:{marginBottom:0},children:e.jsxs(S.Group,{children:[e.jsx(S,{value:"male",children:"Male"}),e.jsx(S,{value:"female",children:"Female"})]})})]})})},Ke=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{rules:[{required:(i=t.question)==null?void 0:i.required,message:"Required"}],label:((l=t.question)==null?void 0:l.title)&&e.jsx("span",{style:{textAlign:"left"},children:(s=t.question)==null?void 0:s.title}),name:[t.questionIndex,"answerText"],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:e.jsx(f,{placeholder:"They / them"})})})},We=t=>{var s,r,u,d,j,m,b,h,g,I,c;const[i,l]=F.useState(!0);return F.useEffect(()=>{var q,N,y,v,C,o;((q=t.question)==null?void 0:q.type)=="Statement"&&((N=t.question)!=null&&N.answerText)&&((y=t.question)==null?void 0:y.answerText)!=="<p><br></p>"||((v=t.question)==null?void 0:v.type)=="Title and description"&&((C=t.question)!=null&&C.description)&&((o=t.question)==null?void 0:o.description)!=="<p><br></p>"?l(!0):l(!1)},[t]),e.jsxs(e.Fragment,{children:[i&&e.jsxs(a.Item,{className:n.questionItem,label:((s=t.question)==null?void 0:s.title)&&e.jsx("span",{style:{textAlign:"left"},children:(r=t.question)==null?void 0:r.title}),children:[((u=t.question)==null?void 0:u.type)=="Statement"&&((d=t.question)==null?void 0:d.answerText)&&e.jsx("div",{style:{whiteSpace:"pre-wrap",overflow:"scroll"},className:"fr-view",dangerouslySetInnerHTML:{__html:k.sanitize((j=t.question)==null?void 0:j.answerText)}}),((m=t.question)==null?void 0:m.type)=="Title and description"&&((b=t.question)==null?void 0:b.description)&&e.jsx("div",{className:"fr-view",style:{whiteSpace:"pre-wrap",overflow:"scroll"},dangerouslySetInnerHTML:{__html:k.sanitize((h=t.question)==null?void 0:h.description)}})]}),!i&&((g=t.question)==null?void 0:g.title)&&e.jsx(a.Item,{noStyle:!0,children:e.jsx("div",{className:n.questionItem,children:((I=t.question)==null?void 0:I.title)&&e.jsx("span",{style:{textAlign:"left"},children:(c=t.question)==null?void 0:c.title})})})]})},Ze=t=>{var i,l,s,r;return e.jsxs("div",{children:[e.jsx("div",{id:"nonprintable",children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),name:[t.questionIndex,"phone"],rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"}],className:`${n.questionItem} ${n.halve} ${n.fullOnTablet}`,children:e.jsx(a.List,{rules:[{validator:async(u,d)=>{var j;if((j=t.question)!=null&&j.required&&(!d||d.length<1))return Promise.reject(new Error("Required"));Promise.resolve()},message:"Required"}],name:[t.questionIndex,"phone"],children:(u,{add:d,remove:j})=>e.jsxs(e.Fragment,{children:[u.map(({name:m})=>e.jsx("div",{className:n.row,children:e.jsxs(f.Group,{compact:!0,className:n.subquestionItem,style:{width:"100%"},children:[e.jsx(a.Item,{name:[m,"code"],rules:[{required:!0,message:"Code is required"}],noStyle:!0,initialValue:t.defaultCountryCode,children:e.jsx(Q,{style:{width:"20%"}})}),e.jsx(a.Item,{name:[m,"phoneNumber"],noStyle:!0,rules:[{required:!0,message:"Phone number is required"},{validator:Ne}],validateTrigger:"onBlur",children:e.jsx(f,{pattern:"0?[1-9]( ?-?[0-9]){7,9}",placeholder:"Input phone number",style:{width:"40%"}})}),e.jsx(a.Item,{initialValue:"Mobile",rules:[{required:!0,message:"Type is required"}],name:[m,"type"],noStyle:!0,children:e.jsx(ve,{defaultValue:"Mobile",style:{width:"30%"}})}),e.jsx(a.Item,{noStyle:!0,children:e.jsx(M,{danger:!0,onClick:()=>j(m),style:{width:"10%"},icon:e.jsx(ce,{})})})]})})),e.jsx(M,{onClick:()=>d(),icon:e.jsx(O,{}),id:"nonprintable",children:"Add new phone number"})]})})})}),e.jsxs("div",{className:n.phoneFormQuestionPrint,id:"printable",children:[e.jsx("div",{className:n.subquestionItem,children:(r=t.question)==null?void 0:r.title}),e.jsx("div",{className:n.subquestionItem,children:"Mobile:"}),e.jsx("div",{className:n.subquestionItem,children:"Home:"}),e.jsx("div",{className:n.subquestionItem,children:"Fax:"})]})]})},Je=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"}],name:[t.questionIndex,"answerText"],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:e.jsx(me,{})})})},Xe=t=>{var r,u,d,j;const[i,l]=F.useState();function s(m){if(l(m.cardFields),t.form){const{sections:b}=t.form.getFieldsValue();if(t.sectionIndex==null)return;const h=b[t.sectionIndex];if(h==null||h.questions[t.questionIndex]==null)return;const g=h.questions[t.questionIndex];g.healthFund={displayName:m.displayName,code:m.code,cardFields:m.cardFields.map(I=>({id:I.id,displayName:I.displayName===""?I.id:I.displayName}))},t.form.setFieldsValue({sections:[...b]})}}return F.useEffect(()=>{var m;(m=t.question)!=null&&m.healthFund&&l(t.question.healthFund.cardFields)},[]),e.jsx(e.Fragment,{children:e.jsxs(a.Item,{label:((r=t.question)==null?void 0:r.title)&&e.jsx("span",{style:{textAlign:"left"},children:(u=t.question)==null?void 0:u.title}),className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,required:(d=t.question)==null?void 0:d.required,children:[e.jsx(a.Item,{rules:[{required:(j=t.question)==null?void 0:j.required,message:"Invalid fund"}],label:"Health fund",name:[t.questionIndex,"healthFund","id"],style:{marginBottom:0},children:e.jsx(xe,{onFundChange:s})}),i&&e.jsx(a.List,{name:[t.questionIndex,"healthFund","cardFields"],children:m=>e.jsx(e.Fragment,{children:m.map((b,h)=>{var I;const g=i[h];return e.jsx(a.Item,{label:g.displayName||g.id,name:[b.name,"value"],style:{marginTop:10,marginBottom:h===m.length-1?0:10},rules:g.validation?[{pattern:new RegExp(g.validation.regex),message:g.validation.message},{required:(I=t.question)!=null&&I.required?g.mandatory:!1,message:"Required"}]:[],children:e.jsx(f,{})})})})})]})})},pe=t=>{var i,l,s,r,u;return e.jsx("div",{className:n.questionItem,children:e.jsx(a.Item,{name:[t.questionIndex,"answerText"],label:e.jsxs("p",{className:(i=t.question)!=null&&i.required?n.requiredPolicyLabel:"",style:{marginBottom:0},children:["Upon submitting the form, your personal details will be sent securely to ",t.organisationName,". Please review and accept the",e.jsx("a",{href:(l=t.question)!=null&&l.policyLink?((r=(s=t.question)==null?void 0:s.policyLink)!=null&&r.includes("http")?"":"//")+((u=t.question)==null?void 0:u.policyLink):"",target:"_blank",style:{margin:"0px 5px"},children:"privacy policy"}),"of ",t.organisationName," and click I reviewed and I accept."]}),rules:[{validator:(d,j)=>{var m;return(m=t.question)!=null&&m.required?j?Promise.resolve():Promise.reject(new Error("You need to accept the privacy policy")):Promise.resolve()}}],valuePropName:"checked",children:e.jsx(R,{children:"I reviewed and I accept"})})})},et=t=>{var i,l,s;return e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"}],className:`${n.questionItem} ${n.halve} ${n.fullOnTablet}`,name:[t.questionIndex,"answerText"],children:e.jsx(he,{defaultSelected:ee()})})},tt=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Required"}],className:n.questionItem,name:[t.questionIndex,"diagnosis"],children:e.jsx(f.TextArea,{autoSize:{minRows:3}})})})},nt=t=>{var u,d,j,m,b;const i=["Self-managed","Plan-managed","NDIA-managed"],[l,s]=F.useState(!1),r=h=>{h=="Plan-managed"?s(!0):s(!1)};return F.useEffect(()=>{t.question.fundManagement==="Plan-managed"&&s(!0)},[]),e.jsx(e.Fragment,{children:e.jsxs(a.Item,{label:((u=t.question)==null?void 0:u.title)&&e.jsx("span",{style:{textAlign:"left"},children:(d=t.question)==null?void 0:d.title}),required:(j=t.question)==null?void 0:j.required,className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:[e.jsx(a.Item,{rules:[{required:(m=t.question)==null?void 0:m.required,message:"Required"}],name:[t.questionIndex,"fundManagement"],style:{marginBottom:0},children:e.jsx($,{onChange:r,children:i.map(h=>e.jsx($.Option,{value:h,children:h},h))})}),e.jsx(a.Item,{label:"Plan manager",name:[t.questionIndex,"planManager"],hidden:!l,rules:[{required:((b=t.question)==null?void 0:b.required)&&l,message:"Required"}],style:{marginTop:10,marginBottom:0},children:e.jsx(f,{})})]})})},st=t=>{var i,l,s,r,u,d,j,m,b;return e.jsx(e.Fragment,{children:e.jsxs(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),required:(s=t.question)==null?void 0:s.required,className:`${n.questionItem} ${n.halve} ${n.fullOnTablet}`,children:[e.jsxs("div",{className:n.row,children:[e.jsx(a.Item,{rules:[{required:(r=t.question)==null?void 0:r.required,message:"Required"}],name:[t.questionIndex,"nominee","nomineeFirstName"],style:{width:"49%"},className:n.subquestionItem,label:"First name",children:e.jsx(f,{})}),e.jsx(a.Item,{rules:[{required:(u=t.question)==null?void 0:u.required,message:"Required"}],name:[t.questionIndex,"nominee","nomineeLastName"],style:{width:"49%"},className:n.subquestionItem,label:"Last name",children:e.jsx(f,{})})]}),e.jsx(a.Item,{label:"Phone number",className:n.subquestionItem,required:(d=t.question)==null?void 0:d.required,children:e.jsxs(B.Compact,{style:{width:"100%"},children:[e.jsx(a.Item,{rules:[{required:(j=t.question)==null?void 0:j.required,message:"Required"}],name:[t.questionIndex,"nominee","nomineeMobileCode"],noStyle:!0,children:e.jsx(Q,{style:{width:"30%"}})}),e.jsx(a.Item,{rules:[{required:(m=t.question)==null?void 0:m.required,message:"Required"},{pattern:/0?[1-9]( ?-?[0-9]){7,9}/,message:"Invalid phone number format"}],style:{flex:1},name:[t.questionIndex,"nominee","nomineeMobileNumber"],noStyle:!0,children:e.jsx(f,{})})]})}),e.jsx(a.Item,{label:"Email",rules:[{type:"email",message:"Invalid email format"},{required:(b=t.question)==null?void 0:b.required,message:"Required"}],name:[t.questionIndex,"nominee","nomineeEmail"],className:`${n.subquestionItem} ${n.last}`,children:e.jsx(f,{})})]})})},it=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"NDIS number is required"}],name:[t.questionIndex,"ndisNumber"],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:e.jsx(f,{})})})},lt=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Plan start date is required"}],name:[t.questionIndex,"answerText"],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,initialValue:t.question.answerText||null,children:e.jsx(T,{format:"D MMM YYYY"})})})},at=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Plan end date is required"}],name:[t.questionIndex,"answerText"],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,initialValue:t.question.answerText||null,children:e.jsx(T,{format:"D MMM YYYY"})})})},rt=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Date is required"}],name:[t.questionIndex,"answerText"],initialValue:t.question.answerText??null,className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:e.jsx(T,{format:"D MMM YYYY"})})})},ut=t=>{var i,l,s,r,u;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:`${(r=t.question)==null?void 0:r.title} is required`}],name:[t.questionIndex,"selected"],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:e.jsx($,{placeholder:"Select a choice",allowClear:!0,showArrow:!0,mode:"multiple",children:(u=t.question.options)==null?void 0:u.map(d=>e.jsx($.Option,{value:d.id,label:d.value,children:d.value},d.id))})})})},dt=t=>{var i,l,s,r,u;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:`${(r=t.question)==null?void 0:r.title} is required`}],name:[t.questionIndex,"selected"],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,children:e.jsx($,{placeholder:"Select a choice",allowClear:!0,children:(u=t.question.options)==null?void 0:u.map(d=>e.jsx($.Option,{value:d.id,label:d.value,children:d.value},d.id))})})})},ot=t=>{var i,l,s,r,u;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:`${(r=t.question)==null?void 0:r.title} is required`}],className:n.questionItem,name:[t.questionIndex,"selected"],children:e.jsx(S.Group,{style:{marginTop:"6px"},children:e.jsx(B,{direction:"vertical",children:(u=t.question.options)==null?void 0:u.map(d=>e.jsx(S,{value:d.id,children:d.value},d.id))})})})})},ct=t=>{var i,l,s;return e.jsx(e.Fragment,{children:e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),rules:[{required:(s=t.question)==null?void 0:s.required,message:"Numerical answer is required"}],className:`${n.questionItem} ${n.halve} ${n.fullOnMobile}`,name:[t.questionIndex,"answerText"],children:e.jsx(qe,{style:{width:"100%"}})})})},mt=t=>{var i,l;return e.jsx(a.Item,{label:((i=t.question)==null?void 0:i.title)&&e.jsx("span",{style:{textAlign:"left"},children:(l=t.question)==null?void 0:l.title}),required:!0,className:`${n.questionItem}`,children:e.jsxs("div",{className:n.row,children:[e.jsx(a.Item,{label:"First name",name:[t.questionIndex,"firstName"],rules:[{required:!0,message:"First name is required"},{whitespace:!0,message:"First name cannot be empty"}],style:{width:t.question.showMiddleName?"32%":"49%"},children:e.jsx(f,{})}),t.question.showMiddleName&&e.jsx(a.Item,{label:"Middle name",name:[t.questionIndex,"middleName"],style:{width:"31%"},children:e.jsx(f,{})}),e.jsx(a.Item,{label:"Last name",name:[t.questionIndex,"lastName"],rules:[{required:!0,message:"Last name is required"},{whitespace:!0,message:"Last name cannot be empty"}],style:{width:t.question.showMiddleName?"32%":"49%"},children:e.jsx(f,{})})]})})},xt=t=>{var m,b,h;const[i,l]=F.useState(),[s,r]=F.useState(!1),[u,d]=F.useState();async function j(g){if(g.file.size>20*1024*1024){K.error("File size must be less than 20MB");return}l([g.file]);const I=await ae({uploadFieldName:"embeddableFormFile",url:`/embeddableForm/${t.formUuid}/file`,file:g.file,method:"post"});if(d(I.data),t.form){const{sections:c}=t.form.getFieldsValue();if(t.sectionIndex==null)return;const q=c[t.sectionIndex];if(q==null)return;const N=q.questions[t.questionIndex];N.files=[{url:I.data,name:g.file.name,size:g.file.size}],t.form.setFieldsValue({sections:[...c]})}}return e.jsxs(e.Fragment,{children:[e.jsx(a.Item,{label:((m=t.question)==null?void 0:m.title)&&e.jsx("span",{style:{textAlign:"left"},children:(b=t.question)==null?void 0:b.title}),rules:[{required:(h=t.question)==null?void 0:h.required,message:"File is required"}],className:n.questionItem,children:e.jsx(Z,{listType:"picture",multiple:!1,maxCount:1,fileList:i,customRequest:j,itemRender:(g,I,c,q)=>e.jsx("div",{className:"ant-upload-list-item ant-upload-list-item-done ant-upload-list-item-list-type-picture",children:e.jsxs("span",{className:"ant-upload-span",children:[e.jsx("a",{onClick:()=>{r(!0)},rel:"noopener noreferrer",className:"ant-upload-list-item-name",children:I.name}),e.jsx("span",{className:"ant-upload-list-item-card-actions picture",children:e.jsx("button",{title:"Remove file",type:"button",onClick:()=>{q.remove()},className:"ant-btn ant-btn-text ant-btn-sm ant-btn-icon-only ant-upload-list-item-card-actions-btn",children:e.jsx("span",{role:"img","aria-label":"delete",className:"anticon anticon-delete",children:e.jsx("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"delete",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"})})})})})]})}),style:{marginTop:5},children:e.jsxs("div",{style:{padding:20},children:[e.jsx("p",{className:"ant-upload-drag-icon",style:{marginBottom:10},children:e.jsx(J,{})}),e.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),e.jsx("p",{className:"ant-upload-hint",children:"Only support upload a single file with maximum limit of 20MB."})]})})}),e.jsx(X,{visible:s,onClose:()=>r(!1),mode:"FileKey",fileKey:u})]})};function ht(){try{return window.self!==window.top}catch{return!0}}function qt(t){const i=new Set;let l=0;for(let s=0;s<t.length;s++){const r=t[s];i.add(`${l}-${s}-section`);for(let u=0;u<r.questions.length;u++){if(r.questions[u].type==="Page break"){l++;continue}i.add(`${l}-${s}-${u}`)}}return{map:i,totalPage:l+1}}const wt=({formInstance:t,data:i,onSubmit:l,onValueChange:s,mode:r,submitting:u=!1})=>{var v,C;const[d,j]=F.useState(!0),m=i.brandingColor||te,b=(v=je.find(o=>o.name===i.country))==null?void 0:v.dial_code,[h,g]=F.useState(0),[I,c]=F.useState(0),[q,N]=F.useState(new Set),y=(o,w,x)=>{if(!q.has(`${h}-${w}-${o}`))return null;switch(x.type){case"Preferred name":return e.jsx(H,{question:x,questionIndex:o});case"Page break":return e.jsx("div",{});case"Short answer":case"Custom short text":return e.jsx(H,{question:x,questionIndex:o});case"Paragraph":case"Custom long text":return e.jsx(G,{question:x,questionIndex:o});case"Image":return e.jsx(Te,{question:x,questionIndex:o});case"Yes/No":return e.jsx(Ce,{question:x,questionIndex:o});case"Multiple choice":return e.jsx($e,{question:x,questionIndex:o,sectionIndex:w,form:t});case"Date":return e.jsx(Oe,{question:x,questionIndex:o});case"Checkboxes":return e.jsx(Se,{question:x,questionIndex:o,sectionIndex:w,form:t});case"File upload":return i.isEmbeddableForm?e.jsx(xt,{question:x,questionIndex:o,sectionIndex:w,form:t,formUuid:i.uuid}):e.jsx(Me,{question:x,questionIndex:o,sectionIndex:w,form:t});case"Dropdown":return e.jsx(Pe,{question:x,questionIndex:o});case"Linear scale":return e.jsx(Re,{question:x,questionIndex:o});case"Signature":return e.jsx(Ae,{question:x,questionIndex:o});case"Title and description":case"Statement":return e.jsx(We,{question:x,questionIndex:o});case"NDIS details":return e.jsx(Ee,{question:x,questionIndex:o});case"Extra information":return e.jsx(Ye,{question:x,questionIndex:o});case"Medicare details":return e.jsx(ze,{question:x,questionIndex:o});case"Gender identity":return e.jsx(Ve,{question:x,questionIndex:o});case"Intolerances":return e.jsx(_e,{question:x,questionIndex:o});case"Allergies":return e.jsx(He,{question:x,questionIndex:o});case"Medications":return e.jsx(Ge,{question:x,questionIndex:o});case"DVA details":return e.jsx(Ue,{question:x,questionIndex:o});case"Patient name":return e.jsx(mt,{question:x,questionIndex:o});case"Pronouns":return e.jsx(Ke,{question:x,questionIndex:o});case"Date of birth":return e.jsx(ke,{question:x,questionIndex:o});case"Address":return e.jsx(De,{question:x,questionIndex:o,sectionIndex:w,form:t});case"Emergency Contact":return e.jsx(Be,{question:x,questionIndex:o});case"Email":return e.jsx(Qe,{question:x,questionIndex:o});case"Occupation":return e.jsx(Le,{question:x,questionIndex:o});case"Fund management":return e.jsx(nt,{question:x,questionIndex:o});case"Diagnosis":return e.jsx(tt,{question:x,questionIndex:o});case"Nominee":return e.jsx(st,{question:x,questionIndex:o});case"NDIS number":return e.jsx(it,{question:x,questionIndex:o});case"Plan start date":return e.jsx(lt,{question:x,questionIndex:o});case"Plan end date":return e.jsx(at,{question:x,questionIndex:o});case"Private health details":return e.jsx(Xe,{question:x,questionIndex:o,sectionIndex:w,form:t});case"Calculation":return e.jsx(Fe,{question:x,questionIndex:o,sectionIndex:w,form:t});case"Timezone":return e.jsx(et,{question:x,questionIndex:o});case"Sex":return e.jsx(Je,{question:x,questionIndex:o});case"Phone":return e.jsx(Ze,{question:x,questionIndex:o,defaultCountryCode:b});case"Privacy policy checkbox":return e.jsx(pe,{organisationName:i.organisationName,question:x,questionIndex:o});case"Custom numerical":return e.jsx(ct,{questionIndex:o,question:x});case"Custom date picker":return e.jsx(rt,{questionIndex:o,question:x});case"Custom multiple dropdown":return e.jsx(ut,{questionIndex:o,question:x});case"Custom single dropdown":return e.jsx(dt,{questionIndex:o,question:x});case"Custom multiple choice":return e.jsx(ot,{questionIndex:o,question:x});default:return e.jsx(G,{question:x,questionIndex:o})}};return F.useEffect(()=>{j(!ht());const o=qt(i.content);N(o.map),c(o.totalPage)},[]),e.jsx("div",{className:n.pageContainer,id:"pageContainer",children:e.jsx("div",{className:n.formContainer,id:"formContainer",children:e.jsxs(a,{layout:"vertical",form:t,style:{width:"100%"},onValuesChange:s,children:[d?e.jsx("header",{className:n.logo,children:e.jsx("img",{onError:o=>{o.target.style.display="none"},src:U(i.logoKey)})}):e.jsx("div",{style:{padding:"30px 0px"}}),r==="edit"&&e.jsxs("div",{className:n.sections,style:{width:"100%"},children:[(C=i.content)==null?void 0:C.map((o,w)=>e.jsx(a.List,{name:["sections"],children:()=>e.jsxs("div",{className:n.section,children:[q.has(`${h}-${w}-section`)&&e.jsx("div",{className:n.sectionHeader,style:{backgroundColor:m},id:"sectionHeader",children:e.jsx("label",{className:n.label,style:{color:_(m)},children:o.title})}),e.jsx("div",{className:n.sectionContent,children:e.jsx(a.List,{name:[w,"questions"],children:()=>o.questions.map((x,A)=>e.jsx("div",{style:{marginBottom:"0px"},children:y(A,w,x)}))})})]})})),e.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:40,gap:15},children:[h>0&&h<=I-1&&e.jsx(M,{onClick:()=>{g(o=>o>0?o-1:o)},icon:e.jsx(ge,{}),children:"Previous"}),h>=0&&h<I-1&&e.jsx(M,{onClick:()=>{g(o=>o+1)},icon:e.jsx(fe,{}),children:"Next"}),h===I-1&&e.jsxs(e.Fragment,{children:[!i.isEmbeddableForm&&e.jsx(M,{style:{backgroundColor:"unset",color:"unset",borderColor:"unset",borderRadius:"4px"},icon:e.jsx(we,{}),onClick:()=>l&&l("draft"),loading:u==="draft",disabled:!!u,id:"nonprintable",children:"Save progress"}),e.jsx(M,{style:{borderColor:m,backgroundColor:m,borderRadius:"4px",color:_(m)},disabled:!!u,type:"primary",onClick:()=>{l&&l("final")},loading:u==="final",id:"nonprintable",children:"Submit form"})]})]})]}),r==="submitted"&&e.jsx("div",{className:n.submittedMessageContainer,children:e.jsx("p",{dangerouslySetInnerHTML:{__html:k.sanitize(i.submittedMessage)||"Thank you, your responses have been received."}})}),e.jsx("footer",{className:n.formFooter,id:"nonprintable",children:e.jsxs("div",{className:n.poweredBy,children:["Secure forms by"," ",e.jsx("a",{target:"_blank",href:"https://splose.com/",children:"splose"})]})})]})})})};export{wt as P};

'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var storage = require('./services/storage.js');
var cookies = _interopDefault(require('js-cookie'));

var COUNTRY_CODES = {
  au: 'au',
  gb: 'uk'
};
var DEFAULT_COUNTRY = COUNTRY_CODES.au;
function getUserRegion() {
  var countryCookie = (cookies.get('medipassCountry') || '').toLowerCase();
  var countryCode = storage.default.get('region') || COUNTRY_CODES[countryCookie];
  Object.values(COUNTRY_CODES).forEach(function (code) {
    if (typeof window !== 'undefined' && new RegExp(code + "$").test(window.location.pathname)) {
      countryCode = code;
    }
  });
  return countryCode || DEFAULT_COUNTRY;
}

var regions = /*#__PURE__*/Object.freeze({
  __proto__: null,
  COUNTRY_CODES: COUNTRY_CODES,
  getUserRegion: getUserRegion
});

exports.COUNTRY_CODES = COUNTRY_CODES;
exports.getUserRegion = getUserRegion;
exports.regions = regions;

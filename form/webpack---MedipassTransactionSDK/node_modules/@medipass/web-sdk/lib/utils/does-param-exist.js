'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var _forOwn = _interopDefault(require('lodash/forOwn'));
require('@babel/runtime/helpers/inheritsLoose');
require('@babel/runtime/helpers/wrapNativeSuper');
var paramError = require('./param-error.js');

var doesParamExist = (function (params, hyperMediaEndpoint, opts) {
  if (opts === void 0) {
    opts = {
      atLeastOneExists: false
    };
  }

  var valueExists = false;

  if (hyperMediaEndpoint) {
    return null;
  }

  _forOwn(params, function (val, key) {
    if (!val && !opts.atLeastOneExists) {
      throw new paramError.default(key);
    }

    if (val && opts.atLeastOneExists) {
      valueExists = true;
    }
  });

  if (!valueExists && opts.atLeastOneExists) {
    throw new paramError.default(Object.keys(params).join(' or '));
  }

  return null;
});

exports.default = doesParamExist;
